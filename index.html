<!DOCTYPE html>
<html lang="kk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>“∞–ª—Ç –∞–∑–∞—Ç—Ç—ã“õ –∫”©—Ç–µ—Ä—ñ–ª—ñ—Å ‚Äî –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤—Ç—ñ –∫–∞—Ä—Ç–∞ –∂”ô–Ω–µ –æ–π—ã–Ω–¥–∞—Ä</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=Unbounded:wght@600;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
  <style>
    :root{
      --bg:#0b0f18; --card:#0f1422; --muted:#97a1b1; --acc:#18a999; --acc2:#7c5cff; --ring:#48f5c5;
      --shadow: 0 20px 50px rgba(0,0,0,.45);
    }
    *{box-sizing:border-box}
    html,body{height:100%;}
    body{
      margin:0; color:#e9eef8; background: radial-gradient(1200px 600px at 10% -10%, rgba(124,92,255,.15), transparent),
                   radial-gradient(900px 500px at 90% -20%, rgba(24,169,153,.18), transparent),
                   linear-gradient(180deg, #0b0f18 0%, #0a0d16 100%);
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
    }
    header{
      position:sticky; top:0; z-index:40; backdrop-filter: blur(10px);
      background: rgba(11,15,24,.65); border-bottom:1px solid rgba(255,255,255,.06);
    }
    .container{max-width:1200px; margin:0 auto; padding: clamp(14px, 2vw, 24px);}
    .title{
      display:flex; align-items:center; gap:18px; padding:10px 0;
    }
    .logo{width:54px; height:54px; display:grid; place-items:center; border-radius:18px; background:linear-gradient(135deg,var(--acc2),var(--acc)); box-shadow: var(--shadow)}
    .logo span{font-family: Unbounded, Inter; font-weight:800; font-size:22px}
    h1{font-family: Unbounded, Inter; font-weight:800; letter-spacing:.3px; margin:0; font-size: clamp(22px, 3.5vw, 44px)}
    .tagline{color:var(--muted); margin-top:6px}

    .hero{
      display:grid; grid-template-columns: 1.2fr .8fr; gap:24px; align-items: stretch; margin-top:22px;
    }
    @media(max-width:980px){.hero{grid-template-columns:1fr;}}

    .card{background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02)); border:1px solid rgba(255,255,255,.07); border-radius:20px; box-shadow: var(--shadow); overflow:hidden}
    .card .head{display:flex; align-items:center; justify-content:space-between; padding:16px 18px; border-bottom:1px solid rgba(255,255,255,.07);}
    .card .head h2{margin:0; font-size:18px; letter-spacing:.2px}
    .card .body{padding:18px}

    #map{height:520px; border-radius:18px;}

    .legend{display:flex; flex-wrap:wrap; gap:8px; margin-top:12px}
    .pill{padding:6px 10px; border-radius:999px; border:1px solid rgba(255,255,255,.12); color:#dbe7ff; font-size:12px; background: rgba(255,255,255,.05)}

    .timeline{display:grid; gap:14px; max-height:520px; overflow:auto; padding-right:6px}
    .event{padding:14px; background: rgba(255,255,255,.04); border:1px solid rgba(255,255,255,.08); border-radius:14px; position:relative}
    .event::before{content:""; position:absolute; left:-6px; top:18px; width:10px; height:10px; background:var(--acc2); border-radius:50%; box-shadow:0 0 0 6px rgba(124,92,255,.25)}
    .event h3{margin:.2rem 0 .4rem; font-size:16px}
    .event .years{font-size:12px; color:var(--muted)}

    .section{margin:36px auto;}
    .section h2{font-family: Unbounded; font-size: clamp(22px, 2.5vw, 30px)}
    .grid{display:grid; grid-template-columns: repeat(3, 1fr); gap:18px}
    @media(max-width:1000px){.grid{grid-template-columns:1fr 1fr}}
    @media(max-width:720px){.grid{grid-template-columns:1fr}}

    .topic{padding:18px; border-radius:16px; border:1px solid rgba(255,255,255,.08); background: radial-gradient(400px 200px at 20% -10%, rgba(124,92,255,.18), transparent), rgba(255,255,255,.03);}
    .topic h3{margin:.4rem 0 .6rem}
    .topic p{margin:.2rem 0; color:#dfe7fb; line-height:1.6}
    .badge{display:inline-block; font-size:11px; color:#c6d2ea; padding:3px 8px; border-radius:999px; border:1px solid rgba(255,255,255,.1); margin-right:8px}

    /* Modal & Game */
    #map {
  height: 520px;
  border-radius: 18px;
  position: relative;
  z-index: 1;   /* –∫–∞—Ä—Ç–∞ –µ“£ —Ç”©–º–µ–Ω–≥—ñ “õ–∞–±–∞—Ç—Ç–∞ */
}

.modal {
  position: fixed;
  inset: 0;
  display: none;
  align-items: center;
  justify-content: center;
  background: rgba(0,0,0,.55);
  z-index: 9999;   /* –∫–∞—Ä—Ç–∞–¥–∞–Ω –∂–æ“ì–∞—Ä—ã */
}
.modal.active {
  display: flex;
}

    .modal .gamewrap{width:min(980px, 92vw); background:var(--card); border:1px solid rgba(255,255,255,.08); border-radius:18px; overflow:hidden; box-shadow: var(--shadow)}
    .modal .bar{display:flex; align-items:center; justify-content:space-between; padding:10px 14px; border-bottom:1px solid rgba(255,255,255,.08)}
    .modal .bar .title{gap:10px}
    .modal .bar .title small{display:block; color:var(--muted)}
    .closeBtn{appearance:none; border:none; background: rgba(255,255,255,.07); color:#fff; padding:8px 12px; border-radius:10px; cursor:pointer}
    canvas{display:block; width:100%; height:520px; background: linear-gradient(180deg, #21426e, #0d1a2b);}    
    .panel{padding:12px 16px; display:flex; gap:8px; align-items:center; justify-content:space-between; border-top:1px solid rgba(255,255,255,.08)}
    .panel .btn{appearance:none; border:none; background:linear-gradient(135deg,var(--acc2),var(--acc)); color:#04111b; font-weight:800; padding:10px 14px; border-radius:12px; cursor:pointer}
    .panel .hint{color:#c5cee2; font-size:13px}

    /* Scroll reveal */
    .reveal{opacity:0; transform: translateY(14px); transition: .6s ease}
    .reveal.visible{opacity:1; transform:none}
  </style>
</head>
<body>
  <header>
    <div class="container">
      <div class="title">
        <div class="logo"><span>“∞–ê“ö</span></div>
        <div>
          <h1>“∞–ª—Ç –∞–∑–∞—Ç—Ç—ã“õ –∫”©—Ç–µ—Ä—ñ–ª—ñ—Å</h1>
          <div class="tagline">XVIII‚ÄìXX “ì–∞—Å—ã—Ä–ª–∞—Ä–¥–∞“ì—ã “ö–∞–∑–∞“õ—Å—Ç–∞–Ω–¥–∞“ì—ã “±–ª—Ç-–∞–∑–∞—Ç—Ç—ã“õ “õ–æ–∑“ì–∞–ª—ã—Å—Ç–∞—Ä–¥—ã“£ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤—Ç—ñ –∫–∞—Ä—Ç–∞—Å—ã –º–µ–Ω –º–∏–Ω–∏-–æ–π—ã–Ω–¥–∞—Ä—ã</div>
        </div>
      </div>
    </div>
  </header>

  <main class="container">
    <section class="hero">
      <div class="card">
        <div class="head"><h2>–ö–∞—Ä—Ç–∞ ‚Äî –∫”©—Ç–µ—Ä—ñ–ª—ñ—Å—Ç–µ—Ä —Ö—Ä–æ–Ω–æ–ª–æ–≥–∏—è—Å—ã</h2><div class="pill">–ù“Ø–∫—Ç–µ–Ω—ñ –±–∞—Å—ã“£—ã–∑ ‚Äî –æ–π—ã–Ω —ñ—Å–∫–µ “õ–æ—Å—ã–ª–∞–¥—ã</div></div>
        <div class="body">
          <div id="map" aria-label="“ö–∞–∑–∞“õ—Å—Ç–∞–Ω –∫–∞—Ä—Ç–∞—Å—ã"></div>
          <div class="legend">
            <div class="pill">üü£ XVIII‚ÄìXIX “ì.</div>
            <div class="pill">üü¢ 1916 –∂.</div>
            <div class="pill">üü° 1929‚Äì1931 –∂–∂.</div>
            <div class="pill">üî¥ –ö–µ“£–µ—Å—Ç—ñ–∫ –∫–µ–∑–µ“£ (1958‚Äì1989)</div>
          </div>
        </div>
      </div>
      <div class="card">
        <div class="head"><h2>–¢–µ–∑ —à–æ–ª—É</h2><div class="pill">–ë–∞—Ä–ª—ã“ì—ã ‚Äî 26 –æ“õ–∏“ì–∞</div></div>
        <div class="body">
          <div class="timeline" id="timeline"></div>
        </div>
      </div>
    </section>

    <section class="section">
      <h2 class="reveal">–ö”©—Ç–µ—Ä—ñ–ª—ñ—Å—Ç–µ—Ä —Ç—É—Ä–∞–ª—ã</h2>
      <div class="grid" id="topics"></div>
    </section>
  </main>

  <!-- Modal with Canvas Game -->
  <div class="modal" id="gameModal" aria-hidden="true" role="dialog">
    <div class="gamewrap">
      <div class="bar">
        <div class="title">
          <div class="logo" style="width:38px;height:38px;border-radius:12px"><span style="font-size:14px">“∞–ê“ö</span></div>
          <div>
            <strong id="gameTitle">–û–π—ã–Ω</strong>
            <small id="gameSubtitle">–¢–∞—Ä–∏—Ö–∏ —Å–∞—Ö–Ω–∞</small>
          </div>
        </div>
        <button class="closeBtn" id="closeGame">–ñ–∞–±—É ‚®â</button>
      </div>
      <canvas id="gameCanvas" width="980" height="520"></canvas>
      <div class="panel">
        <button class="btn" id="startGame">‚öîÔ∏è –®–∞–π“õ–∞—Å –±–∞—Å—Ç–∞–ª—Å—ã–Ω</button>
        <div class="hint" id="gameHint">üéÆ –ü–µ—Ä–Ω–µ–ª–µ—Ä: ‚Üê ‚Üí (–∂“Ø—Ä—É), ‚Üë (—Å–µ–∫—ñ—Ä—É), A (“õ–æ–ª), S (“õ—ã–ª—ã—à), D (–∫–æ–º–±–æ)</div>
      </div>
    </div>
  </div>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
  <script>
  // ==== –î–ï–†–ï–ö“ö–û–† (“õ—ã—Å“õ–∞—à–∞ —Å–∏–ø–∞—Ç—Ç–∞–º–∞–ª–∞—Ä, –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—Ç–∞—Ä, –æ–π—ã–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä–ª–µ—Ä—ñ) ====
  const EVENTS = [
    {id:3, years:"1783‚Äì1797", title:"–°—ã—Ä—ã–º –î–∞—Ç“±–ª—ã –±–∞—Å—Ç–∞“ì–∞–Ω “õ–æ–∑“ì–∞–ª—ã—Å", place:"–û—Ä–∞–ª ”©“£—ñ—Ä—ñ, –ö—ñ—à—ñ –∂“Ø–∑", lat:51.22, lng:51.38, color:"#9b6bff", faction:"imperial", cavalry:true, text:`–°—ã—Ä—ã–º –î–∞—Ç“±–ª—ã –±–∞—Å—Ç–∞“ì–∞–Ω “õ–æ–∑“ì–∞–ª—ã—Å –ö—ñ—à—ñ –∂“Ø–∑–¥–µ–≥—ñ –æ—Ç–∞—Ä–ª—ã“õ “õ—ã—Å—ã–º“ì–∞, —Å–∞–ª—ã“õ –ø–µ–Ω —Å—Ç–∞—Ä—à—ã–Ω–¥–∞—Ä –æ–∑–±—ã—Ä–ª—ã“ì—ã–Ω–∞ “õ–∞—Ä—Å—ã —Ç—É–¥—ã. –ò–≥–µ–ª—å—Å—Ç—Ä–æ–º —Ä–µ—Ñ–æ—Ä–º–∞—Å—ã–Ω–∞–Ω –∫–µ–π—ñ–Ω —Ä—É —ñ—à—ñ–Ω–¥–µ–≥—ñ “õ–∞–π—à—ã–ª—ã“õ—Ç–∞—Ä –∫“Ø—à–µ–π—ñ–ø, –∫”©—Ç–µ—Ä—ñ–ª—ñ—Å –∂–∞–ª–ø—ã“±–ª—Ç—Ç—ã“õ —Å–∏–ø–∞—Ç –∞–ª–¥—ã. –ö”©—Ç–µ—Ä—ñ–ª—ñ—Å –±–∞—Ä—ã—Å—ã–Ω–¥–∞ –ö—ñ—à—ñ –∂“Ø–∑ —Ö–∞–Ω–¥–∞—Ä—ã–Ω—ã“£ —Å–∞—è—Å–∞—Ç—ã–Ω–∞ –¥–∞ “õ–∞—Ä—Å—ã–ª—ã“õ –∫”©—Ä—ñ–Ω–¥—ñ. –¢–∞—Ä–∏—Ö–∏ –º–∞“£—ã–∑—ã ‚Äî “õ–∞–∑–∞“õ “õ–æ“ì–∞–º—ã–Ω–¥–∞“ì—ã –æ—Ç–∞—Ä—à—ã–ª–¥—ã“õ“õ–∞ “õ–∞—Ä—Å—ã –∫“Ø—Ä–µ—Å –¥”ô—Å—Ç“Ø—Ä—ñ–Ω –∫“Ø—à–µ–π—Ç—Ç—ñ.`, youtube: "https://www.youtube.com/embed/k2gw5C4cjgM"},
    {id:4, years:"1820‚Äì1830", title:"–°–∞—Ä–∂–∞–Ω “ö–∞—Å—ã–º“±–ª—ã, –ñ–æ–ª–∞–º–∞–Ω –¢—ñ–ª–µ–Ω—à—ñ“±–ª—ã, –ê—Ä—ã–Ω“ì–∞–∑—ã ”ò–±—ñ–ª“ì–∞–∑—ã“±–ª—ã “õ–æ–∑“ì–∞–ª—ã—Å—Ç–∞—Ä—ã", place:"–û—Ä—Ç–∞ –∂”ô–Ω–µ –ö—ñ—à—ñ –∂“Ø–∑ –∞–π–º–∞“õ—Ç–∞—Ä—ã", lat:50.41, lng:80.23, color:"#9b6bff", faction:"imperial", cavalry:true, text:`–°–∞—Ä–∂–∞–Ω “ö–∞—Å—ã–º“±–ª—ã (–û—Ä—Ç–∞ –∂“Ø–∑), –ñ–æ–ª–∞–º–∞–Ω –¢—ñ–ª–µ–Ω—à—ñ“±–ª—ã (–ö—ñ—à—ñ –∂“Ø–∑) –∂”ô–Ω–µ –ê—Ä—ã–Ω“ì–∞–∑—ã —Å“±–ª—Ç–∞–Ω –±–∞—Å—Ç–∞“ì–∞–Ω “õ–æ–∑“ì–∞–ª—ã—Å—Ç–∞—Ä 1820‚Äì1830 –∂–∂. –ø–∞—Ç—à–∞ ”ô–∫—ñ–º—à—ñ–ª—ñ–≥—ñ–Ω—ñ“£ –±–µ–∫—ñ–Ω—ñ—Å—Ç–µ—Ä —Å–∞–ª—É—ã –º–µ–Ω –∂–µ—Ä–≥–µ —à–µ–∫—Ç–µ—É–ª–µ—Ä—ñ–Ω–µ “õ–∞—Ä—Å—ã ”©—Ä–±—ñ–¥—ñ. “ö–æ–∑“ì–∞–ª—ã—Å—Ç–∞—Ä–¥—ã“£ –æ—Ä—Ç–∞“õ –º–∞“õ—Å–∞—Ç—ã ‚Äî –¥”ô—Å—Ç“Ø—Ä–ª—ñ –±–∏–ª—ñ–∫ –Ω–µ–≥—ñ–∑–¥–µ—Ä—ñ–Ω “õ–æ—Ä“ì–∞—É, –∂–µ—Ä–¥—ñ —Å–∞“õ—Ç–∞–ø “õ–∞–ª—É.`, youtube: "https://www.youtube.com/embed/m0rwEE02rzM"},
    {id:5, years:"1836‚Äì1838", title:"–ò—Å–∞—Ç–∞–π –¢–∞–π–º–∞–Ω“±–ª—ã –º–µ–Ω –ú–∞—Ö–∞–º–±–µ—Ç ”®—Ç–µ–º—ñ—Å“±–ª—ã –∫”©—Ç–µ—Ä—ñ–ª—ñ—Å—ñ", place:"–ë”©–∫–µ–π –û—Ä–¥–∞—Å—ã, –ù–∞—Ä—ã–Ω “õ“±–º—ã", lat:47.10, lng:51.90, color:"#9b6bff", faction:"imperial", cavalry:true, text:`–ò—Å–∞—Ç–∞–π –º–µ–Ω –ú–∞—Ö–∞–º–±–µ—Ç –±–∞—Å—Ç–∞“ì–∞–Ω –∫”©—Ç–µ—Ä—ñ–ª—ñ—Å –ñ”ô“£–≥—ñ—Ä —Ö–∞–Ω –º–µ–Ω –ø–∞—Ç—à–∞ ”©–∫—ñ–º–µ—Ç—ñ–Ω—ñ“£ –æ–∑–±—ã—Ä —Å–∞—è—Å–∞—Ç—ã–Ω–∞ “õ–∞—Ä—Å—ã —Ç—É–¥—ã. –ë”©–∫–µ–π –û—Ä–¥–∞—Å—ã–Ω–¥–∞“ì—ã ”ô–ª–µ—É–º–µ—Ç—Ç—ñ–∫ —Ç–µ“£—Å—ñ–∑–¥—ñ–∫, –∂–µ—Ä —Ç–∞—Ä—ã–ª—É—ã –±–∞—Å—Ç—ã —Å–µ–±–µ–ø –±–æ–ª–¥—ã. –ö”©—Ç–µ—Ä—ñ–ª—ñ—Å—à—ñ–ª–µ—Ä —Ö–∞–Ω –æ—Ä–¥–∞—Å—ã–Ω–∞ “õ–∞—É—ñ–ø —Ç”©–Ω–¥—ñ—Ä—ñ–ø, –∂–∞–∑–∞–ª–∞—É—à—ã –æ—Ç—Ä—è–¥—Ç–∞—Ä–º–µ–Ω —à–∞–π“õ–∞—Å—Ç—ã. –ò—Å–∞—Ç–∞–π 1838 –∂. –ê“õ–±“±–ª–∞“õ —Ç“Ø–±—ñ–Ω–¥–µ “õ–∞–∑–∞ —Ç–∞–ø—Ç—ã. –ö”©—Ç–µ—Ä—ñ–ª—ñ—Å—Ç—ñ“£ —Ä—É—Ö—ã —Ö–∞–ª—ã“õ –∂–∞–¥—ã–Ω–¥–∞ –µ—Ä–∫—ñ–Ω–¥—ñ–∫ —Å–∏–º–≤–æ–ª—ã–Ω–∞ –∞–π–Ω–∞–ª–¥—ã.`, youtube: "https://www.youtube.com/embed/3jw9kN_3WoU"},
    {id:6, years:"1837‚Äì1847", title:"–ö–µ–Ω–µ—Å–∞—Ä—ã “ö–∞—Å—ã–º“±–ª—ã “õ–æ–∑“ì–∞–ª—ã—Å—ã", place:"–ê“õ–º–æ–ª–∞ ‚Äì –ö”©–∫—à–µ ‚Äì –¢“Ø—Ä–∫—ñ—Å—Ç–∞–Ω ‚Äì “ö—ã—Ä“ì—ã–∑–±–∞—É—ã—Ä—ã", lat:51.16, lng:71.47, color:"#9b6bff", faction:"imperial", cavalry:true, text:`–•–∞–Ω –ö–µ–Ω–µ “õ–æ–∑“ì–∞–ª—ã—Å—ã ‚Äî “õ–∞–∑–∞“õ –∂–µ—Ä—ñ–Ω —Ä–µ—Å–µ–π–ª—ñ–∫ –æ—Ç–∞—Ä–ª—ã“õ—Ç–∞–Ω –∞–∑–∞—Ç –µ—Ç—É–≥–µ –±–∞“ì—ã—Ç—Ç–∞–ª“ì–∞–Ω –µ“£ —ñ—Ä—ñ “õ–æ–∑“ì–∞–ª—ã—Å—Ç–∞—Ä–¥—ã“£ –±—ñ—Ä—ñ. 1838 –∂. –ê“õ–º–æ–ª–∞ –±–µ–∫—ñ–Ω—ñ—Å—ñ ”©—Ä—Ç–µ–ª–¥—ñ. –ö–µ–π—ñ–Ω “ö–æ“õ–∞–Ω–º–µ–Ω, —Å–æ“£—ã–Ω–¥–∞ “õ—ã—Ä“ì—ã–∑ –º–∞–Ω–∞–ø—Ç–∞—Ä—ã–º–µ–Ω —Å–æ“ì—ã—Å—Ç–∞—Ä –∂“Ø—Ä–¥—ñ. 1847 –∂. –ú–∞–π—Ç”©–±–µ –º–∞“£—ã–Ω–¥–∞ –ø–æ—Å–ª–µ–¥–Ω—è—è —à–∞–π“õ–∞—Å—Ç–∞ –ö–µ–Ω–µ—Å–∞—Ä—ã “õ–∞–∑–∞ —Ç–∞–ø—Ç—ã. –ö”©—Ç–µ—Ä—ñ–ª—ñ—Å —Ö–∞–Ω–¥—ã“õ –±—ñ—Ä–ª—ñ–∫—Ç—ñ –∂–∞“£“ì—ã—Ä—Ç—É –∏–¥–µ—è—Å—ã–Ω –∫”©—Ç–µ—Ä–¥—ñ.`, youtube: "https://www.youtube.com/embed/5CcsrLoKpm8"},
    {id:7, years:"1856‚Äì1860", title:"–ñ–∞–Ω–∫–æ–∂–∞ –ù“±—Ä–º“±—Ö–∞–º–µ–¥“±–ª—ã –∫”©—Ç–µ—Ä—ñ–ª—ñ—Å—ñ", place:"–°—ã—Ä –±–æ–π—ã, “ö–∞–∑–∞–ª—ã ‚Äì –ê—Ä–∞–ª ”©“£—ñ—Ä—ñ", lat:45.76, lng:62.15, color:"#9b6bff", faction:"imperial", cavalry:false, text:`–ñ–∞–Ω–∫–æ–∂–∞ –±–∞—Ç—ã—Ä –ê—Ä–∞–ª‚Äì–°—ã—Ä –±–æ–π—ã–Ω–¥–∞ “ö–æ“õ–∞–Ω, –•–∏—É–∞ –∂”ô–Ω–µ –ø–∞—Ç—à–∞ ”ô—Å–∫–µ—Ä–ª–µ—Ä—ñ–Ω—ñ“£ “õ—ã—Å—ã–º—ã–Ω–∞ “õ–∞—Ä—Å—ã –∫“Ø—Ä–µ—Å—Ç—ñ. 1856‚Äì1857 –∂–∂. “õ–∞“õ—Ç—ã“ì—ã—Å—Ç–∞—Ä–¥–∞ —Ö–∞–ª—ã“õ –∂–∞—Å–∞“õ—Ç–∞—Ä—ã –∞–π—Ä—ã“õ—à–∞ –µ—Ä–ª—ñ–∫ –∫”©—Ä—Å–µ—Ç—Ç—ñ, –±—ñ—Ä–∞“õ —Ç“±—Ä–∞“õ—Ç—ã ”ô—Å–∫–µ—Ä–≥–µ “õ–∞—Ä—Å—ã —Ç“±—Ä—É “õ–∏—ã–Ω –±–æ–ª–¥—ã. –ö”©—Ç–µ—Ä—ñ–ª—ñ—Å –∂–µ“£—ñ–ª–≥–µ–Ω—ñ–º–µ–Ω, –°—ã—Ä ”©“£—ñ—Ä—ñ–Ω–¥–µ–≥—ñ –æ—Ç–∞—Ä–ª—ã“õ“õ–∞ “õ–∞—Ä—Å—ã–ª—ã“õ—Ç—ã“£ —Å–∏–º–≤–æ–ª—ã–Ω–∞ –∞–π–Ω–∞–ª–¥—ã.`, youtube: "https://www.youtube.com/embed/-T13o3s5EJI"},
    {id:8, years:"1847‚Äì1858", title:"–ï—Å–µ—Ç –±–∞—Ç—ã—Ä –ö”©—Ç—ñ–±–∞—Ä“±–ª—ã –∫”©—Ç–µ—Ä—ñ–ª—ñ—Å—ñ", place:"–´—Ä“ì—ã–∑ ‚Äì –ê—Ä–∞–ª –º–∞“£—ã, –ö—ñ—à—ñ –∂“Ø–∑", lat:48.62, lng:61.27, color:"#9b6bff", faction:"imperial", cavalry:true, text:`–ï—Å–µ—Ç –±–∞—Ç—ã—Ä –±–∞—Å—Ç–∞“ì–∞–Ω “õ–æ–∑“ì–∞–ª—ã—Å –ö—ñ—à—ñ –∂“Ø–∑–¥—ñ“£ –±–∞—Ç—ã—Å-–æ—Ä—Ç–∞ –∞–π–º–∞“õ—Ç–∞—Ä—ã–Ω–¥–∞ ”©—Ä–±—ñ–¥—ñ. –ö”©—Ç–µ—Ä—ñ–ª—ñ—Å –±–∞—Ä—ã—Å—ã–Ω–¥–∞ –ø–∞—Ç—à–∞ ”ô–∫—ñ–º—à—ñ–ª—ñ–≥—ñ–º–µ–Ω –∫–µ–ª—ñ—Å—Å”©–∑–¥–µ—Ä –¥–µ –∂“Ø—Ä–¥—ñ. –ê“õ—ã—Ä—ã –ï—Å–µ—Ç –û—Ä—ã–Ω–±–æ—Ä–¥–∞ –ø–∞—Ç—à–∞ –±–∏–ª—ñ–≥—ñ–Ω –º–æ–π—ã–Ω–¥–∞—É“ì–∞ –º”ô–∂–±“Ø—Ä –±–æ–ª–¥—ã, –¥–µ–≥–µ–Ω–º–µ–Ω —Ç–∞–ª–∞–ø—Ç–∞—Ä—ã–Ω—ã“£ –±—ñ—Ä –±”©–ª—ñ–≥—ñ –µ—Å–∫–µ—Ä—ñ–ª–¥—ñ. –ñ–µ—Ä, —Å–∞–ª—ã“õ, —Ä—É–∞—Ä–∞–ª—ã“õ ”ô–¥—ñ–ª–µ—Ç—Å—ñ–∑–¥—ñ–∫ –º”ô—Å–µ–ª–µ–ª–µ—Ä—ñ –∫”©—Ç–µ—Ä—ñ–ª—ñ—Å—Ç—ñ“£ ”©–∑–µ–≥—ñ–Ω–¥–µ –±–æ–ª–¥—ã.`, youtube: "https://www.youtube.com/embed/kZpJMa7ryhI"},
    {id:9, years:"1868‚Äì1870", title:"–û—Ä–∞–ª, –¢–æ—Ä“ì–∞–π –∂”ô–Ω–µ –ú–∞“£“ì—ã—Å—Ç–∞—É–¥–∞“ì—ã –∞–∑–∞—Ç—Ç—ã“õ –∫“Ø—Ä–µ—Å—ñ", place:"–û—Ä–∞–ª ‚Äì –¢–æ—Ä“ì–∞–π ‚Äì –ú–∞“£“ì—ã—Å—Ç–∞—É", lat:49.6, lng:63.5, color:"#9b6bff", faction:"imperial", cavalry:false, text:`1868‚Äì1869 –∂–∂. –û—Ä–∞–ª –º–µ–Ω –¢–æ—Ä“ì–∞–π –æ–±–ª—ã—Å—Ç–∞—Ä—ã–Ω–¥–∞, 1870 –∂. –ú–∞“£“ì—ã—Å—Ç–∞—É–¥–∞ –ø–∞—Ç—à–∞–ª—ã“õ —Ä–µ—Ñ–æ—Ä–º–∞–ª–∞—Ä“ì–∞ “õ–∞—Ä—Å—ã —Ö–∞–ª—ã“õ –Ω–∞—Ä–∞–∑—ã–ª—ã“ì—ã –±“±—Ä“õ –µ—Ç–µ —Ç“Ø—Å—Ç—ñ. –ú–∞“£“ì—ã—Å—Ç–∞—É–¥–∞ –ò—Å–∞ –¢—ñ–ª–µ–Ω–±–∞–π“±–ª—ã –º–µ–Ω –î–æ—Å–∞–Ω –¢”ô–∂—ñ“±–ª—ã –∞—Ç—ã —à—ã“õ—Ç—ã, –ø–æ–¥–ø–æ–ª–∫–æ–≤–Ω–∏–∫ –†—É–∫–∏–Ω–Ω—ñ“£ –æ—Ç—Ä—è–¥—ã —Ç–∞–ª“õ–∞–Ω–¥–∞–ª–¥—ã. –ê–ª–∞–π–¥–∞ –∂–∞–∑–∞–ª–∞—É—à—ã –∫“Ø—à—Ç–µ—Ä–¥—ñ“£ –±–∞—Å—ã–º–¥—ã“ì—ã “õ–æ–∑“ì–∞–ª—ã—Å—Ç—ã –±–∞—Å—Ç—ã.`,youtube: "https://www.youtube.com/embed/DPevAmwTkJA"},
    {id:10, years:"1916", title:"1916 –∂—ã–ª“ì—ã “±–ª—Ç-–∞–∑–∞—Ç—Ç—ã“õ “õ–æ–∑“ì–∞–ª—ã—Å", place:"–¢–æ—Ä“ì–∞–π, –ñ–µ—Ç—ñ—Å—É –∂”ô–Ω–µ ”©–∑–≥–µ ”©“£—ñ—Ä–ª–µ—Ä", lat:45.02, lng:78.37, color:"#35d07f", faction:"imperial", cavalry:false, text:`1916 –∂—ã–ª“ì—ã –º–∞—É—Å—ã–º –∂–∞—Ä–ª—ã“ì—ã (–º–∞–π–¥–∞–Ω –∂“±–º—ã—Å—Ç–∞—Ä—ã–Ω–∞ ¬´–±“±—Ä–∞—Ç–∞–Ω–∞–ª–∞—Ä–¥—ã¬ª –∞–ª—É) —Ç“±—Ç–∞–Ω–¥—ã—Ä“ì–∞–Ω –±“Ø–∫—ñ–ª“õ–∞–∑–∞“õ—Ç—ã“õ –∫”©—Ç–µ—Ä—ñ–ª—ñ—Å –¢–æ—Ä“ì–∞–π–¥–∞ –ê–º–∞–Ω–≥–µ–ª–¥—ñ –ò–º–∞–Ω–æ–≤, –ñ–µ—Ç—ñ—Å—É–¥–∞ –ë. ”ò—à–µ–∫–µ–µ–≤, –ñ. –ú”ô–º–±–µ—Ç–æ–≤, “∞. –°–∞—É—Ä—ã“õ–æ–≤ —Å–∏—è“õ—Ç—ã –∂–µ—Ç–µ–∫—à—ñ–ª–µ—Ä–¥—ñ“£ —Ç”©“£—ñ—Ä–µ–≥—ñ–Ω–µ —Ç–æ–ø—Ç–∞—Å—Ç—ã. –ê—É—ã—Ä –∂–∞–∑–∞–ª–∞—É —ç–∫—Å–ø–µ–¥–∏—Ü–∏—è–ª–∞—Ä—ã –º–µ–Ω –±–æ—Å“õ—ã–Ω—à—ã–ª—ã“õ “õ–∞–π“ì—ã—Å—ã ‚Äî “õ–æ–∑“ì–∞–ª—ã—Å—Ç—ã“£ “õ–∞—Å—ñ—Ä–µ—Ç—Ç—ñ —Å–∞–ª–¥–∞—Ä—ã.`, youtube: "https://www.youtube.com/embed/1VuoyQpBLeY"},
    {id:11, years:"–•–• “ì. –±–∞—Å—ã", title:"–ê–ª–∞—à –∑–∏—è–ª—ã–ª–∞—Ä—ã, –ú–µ–º–ª–µ–∫–µ—Ç—Ç—ñ–∫ –î—É–º–∞–¥–∞“ì—ã “õ–∞–∑–∞“õ—Ç–∞—Ä", place:"–°–µ–º–µ–π ‚Äì –û—Ä—ã–Ω–±–æ—Ä ‚Äì –ü–µ—Ç–µ—Ä–±–æ—Ä", lat:50.41, lng:80.23, color:"#35b7ff", faction:"civic", cavalry:false, text:`–ê–ª–∞—à “õ–∞–π—Ä–∞—Ç–∫–µ—Ä–ª–µ—Ä—ñ ‚Äî ”ò. –ë”©–∫–µ–π—Ö–∞–Ω, –ê. –ë–∞–π—Ç“±—Ä—Å—ã–Ω“±–ª—ã, –ú. –î—É–ª–∞—Ç“±–ª—ã, –ú. –¢—ã–Ω—ã—à–ø–∞–π“±–ª—ã –∂”ô–Ω–µ –±–∞—Å“õ–∞–ª–∞—Ä ‚Äî “±–ª—Ç—Ç—ã“õ-–¥–µ–º–æ–∫—Ä–∞—Ç–∏—è–ª—ã“õ “õ–æ–∑“ì–∞–ª—ã—Å—Ç—ã“£ –∫”©—à–±–∞—Å—à—ã–ª–∞—Ä—ã –±–æ–ª–¥—ã. –û–ª–∞—Ä –±—ñ–ª—ñ–º –º–µ–Ω —Ä–µ—Ñ–æ—Ä–º–∞–Ω—ã “õ–æ–ª–¥–∞–ø, –ø–∞—Ä–ª–∞–º–µ–Ω—Ç—Ç—ñ–∫ –∞–ª–∞“£–¥–∞—Ä–¥–∞ “õ–∞–∑–∞“õ –º“Ø–¥–¥–µ—Å—ñ–Ω “õ–æ—Ä“ì–∞–¥—ã.`, youtube: "https://www.youtube.com/embed/2abDeGVipqg"},
    {id:12, years:"1917‚Äì1918", title:"–¢“Ø—Ä–∫—ñ—Å—Ç–∞–Ω (“ö–æ“õ–∞–Ω) –∞–≤—Ç–æ–Ω–æ–º–∏—è—Å—ã ‚Äî –ú. –®–æ“õ–∞–π, –ú. –¢—ã–Ω—ã—à–±–∞–µ–≤", place:"–¢–∞—à–∫–µ–Ω—Ç ‚Äì “ö–æ“õ–∞–Ω", lat:41.31, lng:69.28, color:"#35b7ff", faction:"civic", cavalry:false, text:`–¢“Ø—Ä–∫—ñ—Å—Ç–∞–Ω –∞–≤—Ç–æ–Ω–æ–º–∏—è—Å—ã ‚Äî –∞–π–º–∞“õ —Ö–∞–ª—ã“õ—Ç–∞—Ä—ã–Ω—ã“£ ”©–∑—ñ–Ω-”©–∑—ñ –±–∞—Å“õ–∞—Ä—É —Ç–∞–ª–ø—ã–Ω—ã—Å—ã. –ü—Ä–µ–º—å–µ—Ä—ñ —Ä–µ—Ç—ñ–Ω–¥–µ –ú. –¢—ã–Ω—ã—à–±–∞–µ–≤, –∫–µ–π—ñ–Ω –ú. –®–æ“õ–∞–π –µ“£–±–µ–∫ –µ—Ç—Ç—ñ. –ö–µ“£–µ—Å –±–∏–ª—ñ–≥—ñ –∫“Ø—à–ø–µ–Ω —Ç–∞—Ä–∞—Ç—Ç—ã, –±—ñ—Ä–∞“õ –µ—Ä–∫—ñ–Ω–¥—ñ–∫ –∏–¥–µ—è—Å—ã —Å–∞“õ—Ç–∞–ª–¥—ã.`,youtube: "https://www.youtube.com/embed/Eab3Mgrbjko"},

    // 1929‚Äì1931 –∂–∂. —à–∞—Ä—É–∞–ª–∞—Ä –∫”©—Ç–µ—Ä—ñ–ª—ñ—Å—Ç–µ—Ä—ñ
    {id:13, years:"1929‚Äì1931", title:"–®–∞—Ä—É–∞–ª–∞—Ä –∫”©—Ç–µ—Ä—ñ–ª—ñ—Å—Ç–µ—Ä—ñ (“±–∂—ã–º–¥–∞—Å—Ç—ã—Ä—É“ì–∞ “õ–∞—Ä—Å—ã)", place:"“ö–∞–∑–∞“õ—Å—Ç–∞–Ω–Ω—ã“£ ”ô—Ä –∞–π–º–∞“ì—ã", lat:47.88, lng:67.71, color:"#ffd34d", faction:"soviet", cavalry:false, text:`“∞–∂—ã–º–¥–∞—Å—Ç—ã—Ä—É –º–µ–Ω —Ç”ô—Ä–∫—ñ–ª–µ—É–≥–µ “õ–∞—Ä—Å—ã –æ–Ω–¥–∞“ì–∞–Ω –æ—à–∞“õ –ø–∞–π–¥–∞ –±–æ–ª–¥—ã. ”ò–ª–µ—É–º–µ—Ç—Ç—ñ–∫ “õ—ã—Å—ã–º, –º–∞–ª-–º“Ø–ª—ñ–∫—Ç—ñ —Ç–∞—Ä—Ç—ã–ø –∞–ª—É, –∞—à–∞—Ä—à—ã–ª—ã“õ “õ–∞—É–ø—ñ —Ö–∞–ª—ã“õ—Ç—ã “õ–∞—Ä—Å—ã–ª—ã“õ“õ–∞ –∏—Ç–µ—Ä–º–µ–ª–µ–¥—ñ.`, youtube: "https://www.youtube.com/embed/wbt0F4NrTcg"},
    {id:14, years:"1930", title:"“ö–∞—Ä–∞“õ“±–º –∫”©—Ç–µ—Ä—ñ–ª—ñ—Å—ñ", place:"“ö–∞—Ä–∞“õ“±–º, –°—ã—Ä–¥–∞—Ä–∏—è –æ–∫—Ä—É–≥—ñ", lat:44.90, lng:65.50, color:"#ffd34d", faction:"soviet", cavalry:false, text:`–°—ã—Ä–¥–∞—Ä–∏—è–Ω—ã“£ “ö–∞—Ä–∞“õ“±–º ”©“£—ñ—Ä—ñ–Ω–¥–µ “õ–∞—Ä—É–ª—ã “õ–∞—Ä—Å—ã–ª—ã“õ –æ—Ä–Ω–∞–¥—ã. –ö”©—Ç–µ—Ä—ñ–ª—ñ—Å–∫–µ —Ö–∞–Ω —Å–∞–π–ª–∞—É ”ô—Ä–µ–∫–µ—Ç—Ç–µ—Ä—ñ –±–æ–ª–¥—ã, –∫–µ–π—ñ–Ω –∂–∞–∑–∞–ª–∞—É –æ—Ç—Ä—è–¥—Ç–∞—Ä—ã –±–∞—Å—ã–ø-–∂–∞–Ω—à—ã–¥—ã.`, youtube: "https://www.youtube.com/embed/mrZKgKRx-1g"},
    {id:15, years:"1930", title:"–°–∞—Ä–±–∞–∑–¥–∞—Ä (–°–æ–ª–¥–∞—Ç) –∫”©—Ç–µ—Ä—ñ–ª—ñ—Å—ñ", place:"–®—ã“ì—ã—Å –∞–π–º–∞“õ—Ç–∞—Ä (–∂–∞–ª–ø—ã –∞—Ç–∞—É)", lat:49.95, lng:82.61, color:"#ffd34d", faction:"soviet", cavalry:false, text:`–ñ–µ—Ä–≥—ñ–ª—ñ–∫—Ç—ñ –∂–∞—Å–∞“õ—Ç–∞—Ä –º–µ–Ω –∞—É—ã–ª–¥–∞—Ä –±—ñ—Ä—ñ–≥—ñ–ø, —Å–∞–ª—ã“õ –ø–µ–Ω —Ç”ô—Ä–∫—ñ–ª–µ—É–≥–µ “õ–∞—Ä—Å—ã–ª—ã“õ –±—ñ–ª–¥—ñ—Ä–¥—ñ. –ö”©—Ç–µ—Ä—ñ–ª—ñ—Å—à—ñ–ª–µ—Ä —Å–∞–Ω—ã –∂“Ø–∑–¥–µ–≥–µ–Ω‚Äì–º—ã“£“ì–∞ –¥–µ–π—ñ–Ω –∂–µ—Ç–∫–µ–Ω –∫–µ–∑–µ“£–¥–µ—Ä –±–æ–ª–¥—ã.`, youtube: "https://www.youtube.com/embed/VCboftNNt6w"},
    {id:16, years:"1930‚Äì1931", title:"–ñ–µ—Ç—ñ—Å—É –∫”©—Ç–µ—Ä—ñ–ª—ñ—Å—ñ", place:"–ñ–µ—Ç—ñ—Å—É, –ê–ª–∞—Ç–∞—É –±–∞—É—Ä–∞–π—ã", lat:43.24, lng:76.94, color:"#ffd34d", faction:"soviet", cavalry:false, text:`–ñ–µ—Ç—ñ—Å—É–¥–∞ “±–∂—ã–º–¥–∞—Å—Ç—ã—Ä—É –º–µ–Ω –∫“Ø—à—Ç–µ–ø –∫–æ–æ–ø–µ—Ä–∞—Ü–∏—è–ª–∞—É“ì–∞ “õ–∞—Ä—Å—ã “õ–∞“õ—Ç—ã“ì—ã—Å—Ç–∞—Ä –∂–∏—ñ–ª–µ–¥—ñ. –ö”©–ø—Ç–µ–≥–µ–Ω –∞—É—ã–ª–¥–∞—Ä “ö—ã—Ç–∞–π“ì–∞ –∞—É–∞ –∫”©—à—É–≥–µ –º”ô–∂–±“Ø—Ä –±–æ–ª–¥—ã.`, youtube: "https://www.youtube.com/embed/wbt0F4NrTcg"},
    {id:17, years:"1930‚Äì1931", title:"–ú–∞“£“ì—ã—Å—Ç–∞—É–¥–∞“ì—ã —Ö–∞–ª—ã“õ “õ–æ–∑“ì–∞–ª—ã—Å—ã", place:"–ú–∞“£“ì—ã—Å—Ç–∞—É", lat:44.50, lng:52.00, color:"#ffd34d", faction:"soviet", cavalry:false, text:`–ê–¥–∞–π–ª–∞—Ä –º–µ–Ω ”©–∑–≥–µ —Ä—É–ª–∞—Ä “õ–∞—Ç—ã—Å“õ–∞–Ω –Ω–∞—Ä–∞–∑—ã–ª—ã“õ—Ç–∞—Ä –∂–∞–∑–∞–ª–∞—É –æ—Ç—Ä—è–¥—Ç–∞—Ä—ã–º–µ–Ω “õ–∞—Ç–∞“£ –±–∞—Å—ã–ª–¥—ã.`, youtube: "https://www.youtube.com/embed/wbt0F4NrTcg"},
    {id:18, years:"1930‚Äì1931", title:"“ö–æ—Ä–¥–∞–π –∫”©—Ç–µ—Ä—ñ–ª—ñ—Å—ñ", place:"“ö–æ—Ä–¥–∞–π –∞—Å—É—ã, –ñ–∞–º–±—ã–ª", lat:43.03, lng:74.72, color:"#ffd34d", faction:"soviet", cavalry:false, text:`“ö–æ—Ä–¥–∞–π –∞—É–¥–∞–Ω—ã–Ω–¥–∞ —à–∞—Ä—É–∞–ª–∞—Ä –∂–∞–∑–∞–ª–∞—É –∂–∞—Å–∞“õ—Ç–∞—Ä—ã–Ω–∞ “õ–∞—Ä—Å—ã–ª—ã“õ –∫”©—Ä—Å–µ—Ç—Ç—ñ.`, youtube: "https://www.youtube.com/embed/wbt0F4NrTcg"},
    {id:19, years:"1930", title:"–°–æ–∑–∞“õ –∫”©—Ç–µ—Ä—ñ–ª—ñ—Å—ñ", place:"–°–æ–∑–∞“õ, –¢“Ø—Ä–∫—ñ—Å—Ç–∞–Ω –∞–π–º–∞“ì—ã", lat:44.30, lng:68.24, color:"#ffd34d", faction:"soviet", cavalry:false, text:`–°–æ–∑–∞“õ—Ç–∞ —Ö–∞–ª—ã“õ —Ö–∞–Ω —Å–∞–π–ª–∞–ø, —É–µ–∑–¥—ñ–∫ –æ—Ä—Ç–∞–ª—ã“õ“õ–∞ —à–∞–±—É—ã–ª –∂–∞—Å–∞–¥—ã. –ö–µ–π—ñ–Ω –∂–∞–∑–∞–ª–∞—É —ç–∫—Å–ø–µ–¥–∏—Ü–∏—è–ª–∞—Ä—ã –∞—è—É—Å—ã–∑ –∂–∞–∑–∞ “õ–æ–ª–¥–∞–Ω–¥—ã.`, youtube: "https://www.youtube.com/embed/bHdzdhx0m6c"},
    {id:20, years:"1931", title:"–®“±–±–∞—Ä—Ç–∞—É –∫”©—Ç–µ—Ä—ñ–ª—ñ—Å—ñ", place:"–®“±–±–∞—Ä—Ç–∞—É, –®—ã“ì—ã—Å “ö–∞–∑–∞“õ—Å—Ç–∞–Ω", lat:46.75, lng:81.25, color:"#ffd34d", faction:"soviet", cavalry:false, text:`–®“±–±–∞—Ä—Ç–∞—É–¥–∞“ì—ã “õ–∞—Ä—Å—ã–ª—ã“õ “±–∑–∞“õ“õ–∞ —Å–æ–∑—ã–ª—ã–ø, –±—ñ—Ä“õ–∞—Ç–∞—Ä –∞—É—ã–ª–¥–∞—Ä –∞—É–∞ –∫”©—à—É–≥–µ –º”ô–∂–±“Ø—Ä –±–æ–ª–¥—ã.`, youtube: "https://www.youtube.com/embed/wbt0F4NrTcg"},
    {id:21, years:"1930", title:"–ë–∞—Ç–ø–∞“õ“õ–∞—Ä–∞ –∫”©—Ç–µ—Ä—ñ–ª—ñ—Å—ñ", place:"–ë–∞—Ç–ø–∞“õ“õ–∞—Ä–∞, “ö–æ—Å—Ç–∞–Ω–∞–π", lat:50.37, lng:64.60, color:"#ffd34d", faction:"soviet", cavalry:false, text:`–ë–∞—Ç–ø–∞“õ“õ–∞—Ä–∞–¥–∞ –∫”©—Ç–µ—Ä—ñ–ª—ñ—Å—à—ñ–ª–µ—Ä –∞—É–¥–∞–Ω –æ—Ä—Ç–∞–ª—ã“ì—ã–Ω —É–∞“õ—ã—Ç—à–∞ –±–∞—Å—ã–ø –∞–ª—ã–ø, –∫–µ–π—ñ–Ω —à–µ–≥—ñ–Ω—É–≥–µ –º”ô–∂–±“Ø—Ä –±–æ–ª–¥—ã.`, youtube: "https://www.youtube.com/embed/dsUSqPLz73A"},

    // –ö–µ“£–µ—Å—Ç—ñ–∫ –∂“Ø–π–µ–≥–µ “õ–∞—Ä—Å—ã “õ–æ–∑“ì–∞–ª—ã—Å—Ç–∞—Ä
    {id:22, years:"1958", title:"–¢–µ–º—ñ—Ä—Ç–∞—É –æ“õ–∏“ì–∞—Å—ã", place:"–¢–µ–º—ñ—Ä—Ç–∞—É", lat:50.06, lng:72.95, color:"#ff4d6d", faction:"police", cavalry:false, text:`–ú–µ—Ç–∞–ª–ª—É—Ä–≥–∏—è “õ“±—Ä—ã–ª—ã—Å—ã–Ω–∞ –∞“ì—ã–ª“ì–∞–Ω –∂–∞—Å—Ç–∞—Ä“ì–∞ —Ç“±—Ä–º—ã—Å –ø–µ–Ω –∂–∞–±–¥—ã“õ –∂–µ—Ç—ñ—Å–ø–µ–¥—ñ. –¢–∞–º—ã–∑ –∞–π—ã–Ω–¥–∞ –±–∞—Å—Ç–∞–ª“ì–∞–Ω –Ω–∞—Ä–∞–∑—ã–ª—ã“õ —Ç”ô—Ä—Ç—ñ–ø—Å—ñ–∑–¥—ñ–∫–∫–µ “±–ª–∞—Å—ã–ø, –∫“Ø—à–ø–µ–Ω –±–∞—Å—ã–ª–¥—ã.`, youtube: "https://www.youtube.com/embed/qE0kq4QRHRM"},
    {id:23, years:"1979", title:"¬´–ù–µ–º—ñ—Å –∞–≤—Ç–æ–Ω–æ–º–∏—è—Å—ã–Ω–∞¬ª “õ–∞—Ä—Å—ã “õ–æ–∑“ì–∞–ª—ã—Å", place:"–¶–µ–ª–∏–Ω–æ–≥—Ä–∞–¥ (–ê—Å—Ç–∞–Ω–∞)", lat:51.16, lng:71.47, color:"#ff4d6d", faction:"police", cavalry:false, text:`–ú–∞—É—Å—ã–º–¥–∞“ì—ã –±–µ–π–±—ñ—Ç —à–µ—Ä—É –Ω”ô—Ç–∏–∂–µ—Å—ñ–Ω–¥–µ –Ω–µ–º—ñ—Å –∞–≤—Ç–æ–Ω–æ–º–∏—è—Å—ã–Ω “õ“±—Ä—É –∂–æ—Å–ø–∞—Ä—ã —Ç–æ“õ—Ç–∞—Ç—ã–ª–¥—ã. –ë“±–ª ‚Äî –æ—Ä—Ç–∞–ª—ã“õ –±–∏–ª—ñ–∫—Ç—ñ“£ –∞–ª“ì–∞—à —Ä–µ—Ç —Ä–∞–π—ã–Ω–∞–Ω “õ–∞–π—Ç—É—ã–Ω—ã“£ –±—ñ—Ä—ñ –±–æ–ª–¥—ã.`, youtube: "https://www.youtube.com/embed/E24-WqlMvkY"},
    {id:24, years:"1986", title:"–ñ–µ–ª—Ç–æ“õ—Å–∞–Ω", place:"–ê–ª–º–∞—Ç—ã", lat:43.24, lng:76.94, color:"#ff4d6d", faction:"police", cavalry:false, text:`16‚Äì18 –∂–µ–ª—Ç–æ“õ—Å–∞–Ω–¥–∞ –∂–∞—Å—Ç–∞—Ä –æ—Ä—Ç–∞–ª—ã“õ –∞–ª–∞“£“ì–∞ —à—ã“ì—ã–ø, —Å–∞—è—Å–∏ –µ—Ä–∫—ñ–Ω–¥—ñ–∫ —Ç–∞–ª–∞–ø –µ—Ç—Ç—ñ. –ë–µ–π–±—ñ—Ç —à–µ—Ä—É –∫“Ø—à–ø–µ–Ω —Ç–∞—Ä–∞—Ç—ã–ª–¥—ã. –ñ–µ–ª—Ç–æ“õ—Å–∞–Ω ‚Äî —Ç”ô—É–µ–ª—Å—ñ–∑–¥—ñ–∫–∫–µ –±–∞—Å—Ç–∞—Ä —Ä—É—Ö—Ç—ã“£ —Å–∏–º–≤–æ–ª—ã.`,youtube: "https://www.youtube.com/embed/iWiPCDx6r7I"},
    {id:25, years:"1989", title:"–ñ–∞“£–∞”©–∑–µ–Ω –æ“õ–∏“ì–∞—Å—ã", place:"–ñ–∞“£–∞”©–∑–µ–Ω", lat:43.35, lng:52.86, color:"#ff4d6d", faction:"police", cavalry:false, text:`”ò–ª–µ—É–º–µ—Ç—Ç—ñ–∫ ”ô–¥—ñ–ª–µ—Ç—Å—ñ–∑–¥—ñ–∫ –ø–µ–Ω –∂“±–º—ã—Å—à—ã–ª–∞—Ä–¥—ã“£ —Ç–∞–ª–∞–ø—Ç–∞—Ä—ã –µ—Å–∫–µ—Ä—ñ–ª–º–µ–π, “õ–∞“õ—Ç—ã“ì—ã—Å –æ—Ä—ã–Ω –∞–ª–¥—ã. –û“õ–∏“ì–∞ –∫“Ø—à–ø–µ–Ω –±–∞—Å—ã–ª–¥—ã.`, youtube: "https://www.youtube.com/embed/B69ZZvbfg-A"},
    {id:26, years:"1989", title:"“ö–∞—Ä–∞“ì–∞–Ω–¥—ã –∫–µ–Ω—à—ñ–ª–µ—Ä –µ—Ä–µ—É—ñ–ª—ñ", place:"“ö–∞—Ä–∞“ì–∞–Ω–¥—ã", lat:49.80, lng:73.10, color:"#ff4d6d", faction:"police", cavalry:false, text:`–ï“£–±–µ–∫ –∂–∞“ì–¥–∞–π—ã–Ω, –µ“£–±–µ–∫–∞“õ—ã –º–µ–Ω ”ô–ª–µ—É–º–µ—Ç—Ç—ñ–∫ –º”ô—Å–µ–ª–µ–ª–µ—Ä–¥—ñ –∂–∞“õ—Å–∞—Ä—Ç—É–¥—ã —Ç–∞–ª–∞–ø –µ—Ç–∫–µ–Ω –∫–µ“£ –∞—É“õ—ã–º–¥—ã –µ—Ä–µ—É—ñ–ª–¥–µ—Ä ”©—Ç—Ç—ñ.`, youtube: "https://www.youtube.com/embed/BruTZITrktI"}
  ];

  // ==== –ö–ê–†–¢–ê ====
  const map = L.map('map', {zoomControl:true, scrollWheelZoom:true}).setView([48.5, 67.5], 5);
  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '&copy; OpenStreetMap “õ–∞—Ç—ã—Å—É—à—ã–ª–∞—Ä—ã'
  }).addTo(map);

  function markerIcon(color){
    const svg = encodeURIComponent(`<svg xmlns='http://www.w3.org/2000/svg' width='40' height='40'><circle cx='20' cy='20' r='8' fill='${color}'/><circle cx='20' cy='20' r='16' fill='${color}' opacity='.18'/></svg>`);
    return L.icon({iconUrl:`data:image/svg+xml,${svg}`, iconSize:[28,28]});
  }

  const group = L.layerGroup().addTo(map);
  EVENTS.forEach(ev=>{
    const m = L.marker([ev.lat, ev.lng], {icon:markerIcon(ev.color)}).addTo(group);
    m.bindTooltip(`${ev.years} ‚Ä¢ ${ev.title}`);
    m.on('click', ()=> openGame(ev));
  });

  // ==== –¢–ê–ô–ú–õ–ê–ô–ù ====
  const timeline = document.getElementById('timeline');
EVENTS.sort((a,b)=> (a.years > b.years ? 1 : -1));
EVENTS.forEach(ev=>{
  const div = document.createElement('div');
  div.className='event reveal';
  div.innerHTML = `<div class="years">${ev.years} ¬∑ ${ev.place}</div><h3>${ev.title}</h3><div style="color:#c9d6f0; font-size:14px">${ev.text}</div>`;
  div.addEventListener('click', ()=> openGame(ev));
  timeline.appendChild(div);
});

  // ==== –ú”ò–¢–Ü–ù–î–Ü–ö –ë”®–õ–Ü–ú ====
  const topics = document.getElementById('topics');
  const longTexts = [3,4,5,6,7,8,9,10].concat([11,12]).concat([13,14,15,16,17,18,19,20,21]).concat([22,23,24,25,26]);
  longTexts.forEach(id=>{
    const ev = EVENTS.find(e=>e.id===id); if(!ev) return;
    const t = document.createElement('article');
    t.className='topic reveal';
    t.innerHTML = `
      <span class="badge">${ev.years}</span>
      <span class="badge">${ev.place}</span>
      <h3>${ev.title}</h3>
      <p>${ev.text}</p>
      <p><em>–¢–∞—Ä–∏—Ö–∏ –º”ô–Ω—ñ:</em> –ê–∑–∞—Ç—Ç—ã“õ —Å–∞–Ω–∞—Å—ã–Ω –∫“Ø—à–µ–π—Ç—ñ–ø, “±–ª—Ç—Ç—ã“õ –±—ñ—Ä–µ–≥–µ–π–ª—ñ–∫ –ø–µ–Ω ”ô–¥—ñ–ª–µ—Ç–∫–µ “±–º—Ç—ã–ª—ã—Å—Ç—ã –Ω—ã“ì–∞–π—Ç—Ç—ã. –ê–π–º–∞“õ—Ç—ã“£ —Å–∞—è—Å–∏-”ô–ª–µ—É–º–µ—Ç—Ç—ñ–∫ ”©–º—ñ—Ä—ñ–Ω–µ –¥“Ø–º–ø—É –±–µ—Ä—ñ–ø, –∫–µ–π—ñ–Ω–≥—ñ –±—É—ã–Ω“ì–∞ “Ø–ª–≥—ñ “õ–∞–ª–¥—ã—Ä–¥—ã.</p>
      <p style="font-size:13px; color:#b9c6e2">–ö–∞—Ä—Ç–∞–¥–∞“ì—ã –Ω“Ø–∫—Ç–µ–Ω—ñ –Ω–µ–º–µ—Å–µ –±“±–ª –∫–∞—Ä—Ç–∞–Ω—ã –±–∞—Å—ã–ø, —Ç–∞—Ä–∏—Ö–∏ –º–∏–Ω–∏-–æ–π—ã–Ω–¥—ã —ñ—Å–∫–µ “õ–æ—Å—ã“£—ã–∑.</p>
    `;
    topics.appendChild(t);
  });

  // ==== SCROLL REVEAL ====
  const io = new IntersectionObserver((entries)=>{
    entries.forEach(e=>{ if(e.isIntersecting){ e.target.classList.add('visible'); io.unobserve(e.target);} })
  },{threshold:.12});
  document.querySelectorAll('.reveal').forEach(el=> io.observe(el));
  // ==== –û–ô–´–ù –ú–ï–•–ê–ù–ò–ö–ê–°–´ (Shadow Fight —Å—Ç–∏–ª—ñ–Ω–¥–µ) ====

  const modal = document.getElementById('gameModal');
  const gameTitle = document.getElementById('gameTitle');
  const gameSubtitle = document.getElementById('gameSubtitle');
  const gameHint = document.getElementById('gameHint');
  const canvas = document.getElementById('gameCanvas');
  const ctx = canvas.getContext('2d');
  let CURRENT=null, running=false;

  let player, enemy, keys={}, loopId;
  

  function openGame(ev) {
  CURRENT = ev; 
  running = false; 
  cancelAnimationFrame(loopId);

  // –û“õ–∏“ì–∞ –∞—Ç–∞—É—ã –º–µ–Ω –∫–µ–∑–µ“£—ñ–Ω —à—ã“ì–∞—Ä—É
  gameTitle.textContent = ev.title;
  gameSubtitle.textContent = `${ev.years} ¬∑ ${ev.place}`;

  // Canvas-—Ç—ã ”ô—É–µ–ª–¥–µ –∂–∞—Å—ã—Ä–∞–º—ã–∑
  const canvas = document.getElementById("gameCanvas");
  canvas.style.display = "none";

  // –ë“±—Ä—ã–Ω“ì—ã –≤–∏–¥–µ–æ –±–æ–ª—Å–∞ ”©—à—ñ—Ä–µ–º—ñ–∑
  let oldVid = document.getElementById("eventVideo");
  if (oldVid) oldVid.remove();

  // –í–∏–¥–µ–æ “õ–æ—Å—É (canvas —Ç“±—Ä“ì–∞–Ω –∂–µ—Ä–≥–µ)
  if (ev.youtube) {
    let videoDiv = document.createElement("div");
    videoDiv.id = "eventVideo";
    videoDiv.style.textAlign = "center";
    videoDiv.style.margin = "10px 0";
    videoDiv.innerHTML = `
      <iframe width="800" height="450"
        src="${ev.youtube}"
        title="YouTube video player"
        frameborder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
        allowfullscreen>
      </iframe>
    `;
    
    canvas.parentNode.insertBefore(videoDiv, canvas); 
  }

  

  modal.classList.add('active');

  // –§–æ–Ω
  CURRENT.era  = eraOf(ev);
  CURRENT.bgImg = getBg(CURRENT.era);
  if (!CURRENT.bgImg.complete) {
    CURRENT.bgImg.onload = () => drawIntro();
  }
  drawIntro();
}

// –®–∞–π“õ–∞—Å –±–∞—Å—Ç–∞–ª“ì–∞–Ω–¥–∞ ‚Äî –≤–∏–¥–µ–æ–Ω—ã –∞–ª—ã–ø, canvas –∫”©—Ä—Å–µ—Ç–µ–º—ñ–∑
document.getElementById('startGame').onclick = () => {
  let oldVid = document.getElementById("eventVideo");
  if (oldVid) oldVid.remove();
  const canvas = document.getElementById("gameCanvas");
  canvas.style.display = "block";
  startBattle();
};

// –ñ–∞–±—É –±–∞—Ç—ã—Ä–º–∞—Å—ã
document.getElementById('closeGame').onclick = ()=>{
  modal.classList.remove('active'); 
  running=false; 
}

 // ---- –ë–∞—Ç—ã—Ä –∫–ª–∞—Å—ã ----
class Fighter {
  constructor(x, y, type, color) {
    this.x = x; this.y = y;
    this.type = type;
    this.color = color;
    this.hp = 100;
    this.w = 40; this.h = 90;
    this.velY = 0;
    this.grounded = true;
    this.dir = 1;
    this.attacking = false;
    this.dead = false;

    this.dead = false;   // –∂–µ“£—ñ–ª—Å–µ true –±–æ–ª–∞–¥—ã
    this.blood = [];     // “õ–∞–Ω –±”©–ª—à–µ–∫—Ç–µ—Ä—ñ
  }

  draw() {
  if (this.dead) {
    // –∂–µ“£—ñ–ª–≥–µ–Ω–¥–µ –∫”©–ª–¥–µ–Ω–µ“£ –∂–∞—Ç—ã–ø “õ–∞–ª—É
    ctx.fillStyle = this.color;
    ctx.fillRect(this.x, this.y+this.h-20, this.w, 20); // –¥–µ–Ω–µ

    // –±–∞—Å
    ctx.beginPath();
    ctx.arc(this.x+this.w/2, this.y+this.h-30, 15, 0, Math.PI*2);
    ctx.fillStyle = "#fcd7b6";
    ctx.fill();

    // “õ–∞–Ω –±”©–ª—à–µ–∫—Ç–µ—Ä—ñ
    this.blood.forEach(p=>{
      ctx.fillStyle = "red";
      ctx.beginPath();
      ctx.arc(p.x, p.y, p.r, 0, Math.PI*2);
      ctx.fill();
      p.x += p.vx;
      p.y += p.vy;
      p.vy += 0.2; // –≥—Ä–∞–≤–∏—Ç–∞—Ü–∏—è
      p.r *= 0.96; // –±–∞—è—É –∫—ñ—à—ñ—Ä–µ–π–µ–¥—ñ
    });
    return;
  }

  // --- —Ç—ñ—Ä—ñ –∫–µ–∑–¥–µ ---
  ctx.fillStyle = this.color;
  ctx.fillRect(this.x+6, this.y, this.w-12, this.h-25);

  // –±–∞—Å
  ctx.beginPath();
  ctx.arc(this.x+this.w/2, this.y-22, 19, 0, Math.PI*2);
  ctx.fillStyle = "#fcd7b6";
  ctx.fill();
  ctx.stroke();

  // –∞—è“õ—Ç–∞—Ä
  ctx.fillStyle = "#552";
  ctx.fillRect(this.x+10, this.y+this.h-30, 12, 35);
  ctx.fillRect(this.x+this.w-22, this.y+this.h-30, 12, 35);

  // “õ–æ–ª–¥–∞—Ä
  ctx.fillStyle = this.color;
  ctx.fillRect(this.x-10, this.y+20, 10, 35);
  ctx.fillRect(this.x+this.w, this.y+20, 10, 35);

  // “õ—ã–ª—ã—à
  if(this.attacking){
    ctx.strokeStyle="silver"; ctx.lineWidth=6;
    ctx.beginPath();
    ctx.moveTo(this.x+this.w/2, this.y+20);
    ctx.lineTo(this.x+this.w/2 + this.dir*50, this.y-20);
    ctx.stroke();
  }
}

  attack(type, target){
    if(this.dead) return; // ”©–ª—ñ –±–æ–ª—Å–∞ —à–∞–±—É—ã–ª –∂–∞—Å–∞–º–∞–π–¥—ã
    this.attacking = true;
    setTimeout(()=>this.attacking=false, 200);

    if(Math.abs(this.x - target.x) < 70){
      let dmg = type==="punch"? 6 : type==="sword"? 12 : 20;
      target.hp -= dmg;
      if(target.hp <= 0) target.die();
    }
  }

  die(){
    this.dead = true;
    // “õ–∞–Ω –±”©–ª—à–µ–∫—Ç–µ—Ä—ñ–Ω –∂–∞—Å–∞—É
    for(let i=0;i<30;i++){
      this.blood.push({
        x:this.x+this.w/2,
        y:this.y+this.h/2,
        r:Math.random()*6+3,
        vx:(Math.random()-0.5)*6,
        vy:Math.random()*-4
      });
    }
  }
}


  // ---- –ò–Ω—Ç—Ä–æ ----
  function drawIntro(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    ctx.fillStyle = "#123";
    ctx.fillRect(0,0,canvas.width,canvas.height);
    ctx.fillStyle = "#eee";
    ctx.font="28px Unbounded";
    ctx.fillText(CURRENT.title, 40, 80);
    ctx.font="18px Inter";
    ctx.fillText(`${CURRENT.years} ‚Ä¢ ${CURRENT.place}`, 40, 110);
    ctx.fillStyle="#48f5c5";
    ctx.fillText("‚öîÔ∏è ¬´–°–æ“ì—ã—Å –±–∞—Å—Ç–∞–ª—Å—ã–Ω¬ª –±–∞—Ç—ã—Ä–º–∞—Å—ã–Ω –±–∞—Å—ã“£—ã–∑", 40, 160);
  }

  // ---- –ë–∞—Å—Ç–∞—É ----
  function startBattle(){
  running = true;
  player = new Fighter(120, 380, "player", "#2a5"); // –∂–∞—Å—ã–ª –∂–∞—É—ã–Ω–≥–µ—Ä
  enemy  = new Fighter(740, 380, "enemy", "#c33");  // “õ—ã–∑—ã–ª –∂–∞—É—ã–Ω–≥–µ—Ä
  loop();
}


  // ---- –ê—Ä—Ç“õ—ã —Ñ–æ–Ω ----
// —Ñ–æ–Ω —Å—É—Ä–µ—Ç—ñ–Ω –∂“Ø–∫—Ç–µ—É
const bgImage = new Image();
bgImage.src = "image.png"; // —Å—É—Ä–µ—Ç —Ñ–∞–π–ª—ã–Ω—ã“£ –∂–æ–ª—ã

function drawBackground(){
  const img = CURRENT && CURRENT.bgImg;
  if (img && img.complete) {
    ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
  } else {
    ctx.fillStyle="#234";
    ctx.fillRect(0,0,canvas.width,canvas.height);
  }
  // –∂–µ—Ä —Å—ã–∑—ã“ì—ã
  ctx.fillStyle="rgba(0,0,0,0.25)";
  ctx.fillRect(0,470,canvas.width,50);
}

// 4 –∫–µ–∑–µ“£ “Ø—à—ñ–Ω —Ñ–æ–Ω URL-–¥–∞—Ä—ã (”©–∑ —Å—É—Ä–µ—Ç—Ç–µ—Ä—ñ“£–º–µ–Ω –∞—É—ã—Å—Ç—ã—Ä–∞ –±–µ—Ä)
const BG_URLS = {
  "XVIII‚ÄìXIX": "https://images.ctfassets.net/hrltx12pl8hq/6HbHf985qIM5gyvPGx729C/02d650fd62d043f124675170b9778b1d/war-battles-images.jpg?fit=fill&w=600&h=400",
  "1916":      "https://png.pngtree.com/thumb_back/fh260/background/20230516/pngtree-the-streets-in-berlin-are-wiped-out-by-the-battle-that-image_2576876.jpg",
  "1929‚Äì1931": "https://avatars.mds.yandex.net/i?id=62c817fd6a11f49b234347c4dd8f6fae7d1fa9f5-3631034-images-thumbs&n=13",
  "–ö–µ“£–µ—Å—Ç—ñ–∫":  "https://img.goodfon.ru/wallpaper/big/7/27/tank-tanki-t-34-85-velikaia-otechestvennaia-voina-sssr-art-s.webp"
};


// –û“õ–∏“ì–∞–Ω—ã pill-–∫–µ–∑–µ“£–≥–µ –∂—ñ–∫—Ç–µ—É
function eraOf(ev){
  const y = ev.years;

  // XVIII‚ÄìXIX “ì. (1700‚Äì1899)
  if (y.match(/17|18[0-9]{2}/)) return "XVIII‚ÄìXIX";
  if (y.includes("1847") || y.includes("1858") || y.includes("1868") || y.includes("1870"))
    return "XVIII‚ÄìXIX";

  // 1916 –∂.
  if (y.includes("1916")) return "1916";

  // 1929‚Äì1931 –∂–∂.
  if (y.includes("1929") || y.includes("1930") || y.includes("1931"))
    return "1929‚Äì1931";

  // –ö–µ“£–µ—Å—Ç—ñ–∫ –∫–µ–∑–µ“£ (1958‚Äì1989)
  return "–ö–µ“£–µ—Å—Ç—ñ–∫";
}


// –§–æ–Ω–¥–∞—Ä–¥—ã –∫—ç—à—Ç–µ—É
const bgCache = {};
function getBg(era){
  if (bgCache[era]) return bgCache[era];
  const img = new Image();
  img.crossOrigin = "anonymous";
  img.src = BG_URLS[era];
  bgCache[era] = img;
  return img;
}


  // ---- HP –∂–æ–ª–∞“õ—Ç–∞—Ä—ã ----
  function drawHealthBars(){
    ctx.fillStyle="red";
    ctx.fillRect(40,30,300,20);
    ctx.fillRect(canvas.width-340,30,300,20);
    ctx.fillStyle="lime";
    ctx.fillRect(40,30, 3*Math.max(0, player.hp), 20);
ctx.fillRect(canvas.width-340,30, 3*Math.max(0, enemy.hp), 20);

  }

  // ---- –ù–µ–≥—ñ–∑–≥—ñ —Ü–∏–∫–ª ----
  function loop(){
    if(!running){drawIntro(); return;}

    ctx.clearRect(0,0,canvas.width,canvas.height);
    drawBackground();
    drawHealthBars();

    // Player controls
    if(keys["ArrowLeft"]) {player.x -= 4; player.dir=-1;}
    if(keys["ArrowRight"]) {player.x += 4; player.dir=1;}
    if(keys["ArrowUp"] && player.grounded){player.velY=-12; player.grounded=false;}

    // –ì—Ä–∞–≤–∏—Ç–∞—Ü–∏—è
    player.y += player.velY;
    player.velY += 0.6;
    if(player.y>=380){player.y=380; player.velY=0; player.grounded=true;}

    // Enemy AI
  // –ù–µ–≥—ñ–∑–≥—ñ —Ü–∏–∫–ª —ñ—à—ñ–Ω–¥–µ–≥—ñ Enemy AI –±–ª–æ–∫—Ç—ã –∞—É—ã—Å—Ç—ã—Ä—ã“£—ã–∑:
if (enemy.x > player.x + 55) { enemy.x -= 2; enemy.dir = -1; }
else if (enemy.x < player.x - 55) { enemy.x += 2; enemy.dir =  1; }
else {
  // –ñ–∞“õ—ã–Ω–¥–∞—Å“õ–∞–Ω–¥–∞ –∞–Ω–¥–∞-—Å–∞–Ω–¥–∞ “±—Ä—Å—ã–Ω (—Ç“Ø—Ä–ª—ñ —Å–æ“õ“õ—ã–ª–∞—Ä)
  if (Math.random() < 0.03) {
    const moves = ["punch","sword","combo"];
    enemy.attack(moves[Math.floor(Math.random()*moves.length)], player);
  }
}


    player.draw();
    enemy.draw();

    // check end
    if(player.hp<=0 || enemy.hp<=0){
      running=false;
      ctx.fillStyle="white"; ctx.font="28px Unbounded";
      ctx.fillText(player.hp<=0? "–°—ñ–∑ –∂–µ“£—ñ–ª–¥—ñ“£—ñ–∑..." : "–ñ–ï“¢–Ü–°!", 380,200);
      return;
    }

    loopId=requestAnimationFrame(loop);
  }

  // ---- Controls ----
  document.addEventListener("keydown", e=>{
    keys[e.key]=true;
    if(e.key==="a"||e.key==="A") player.attack("punch", enemy);
    if(e.key==="s"||e.key==="S") player.attack("sword", enemy);
    if(e.key==="d"||e.key==="D") player.attack("combo", enemy);
    
  });
  document.addEventListener("keyup", e=>{keys[e.key]=false;});

  // ESC –∂–∞–±—É
  document.addEventListener('keydown', (e)=>{
    if(e.key==='Escape' && modal.classList.contains('active')){
      modal.classList.remove('active'); running=false;
    }
  });

</script>
</body>

</html>
